@model PageResult<RoleViewModel,int>
@{

}

@functions {
    bool DetectSupperRole(object x) {
        return ((dynamic)x).Name == "ADMINISTRATOR";
    }
}

<entity-table model="@Model" asp-controller="@Url.Action("Index")" asp-action="@Url.Action("Index")">
    <table-settings>
        <container-settings display="@L["系统角色"]">
            <a class="btn btn-primary float-right" href="@Url.Action("Editor")">创建</a>
        </container-settings>
        <pagination-setttings page-index="Model.Cursor"></pagination-setttings>
    </table-settings>
    <table-columns>
        <table-column for="Id" title="@L["选择"]" selectable="true"></table-column>
        <table-column for="Name"></table-column>
        <table-column for="DisplayName"></table-column>
        <table-column for="Description"></table-column>
        <table-column for="CreateAt"></table-column>
    </table-columns>
    <table-buttons column-style="display: flex; justify-content: space-around;">
        <table-button title="@L["编辑"]" icon-class="fa fa-edit" asp-action="x=>@Url.Action("Editor",new{id =((RoleViewModel)x).Id })"></table-button>
        <table-button title="@L["删除"]" icon-class="fa fa-times" asp-condition="@DetectSupperRole"></table-button>
    </table-buttons>    
</entity-table>